# Vision & Goals

## Видение

Agent Test Platform (ATP) — это индустриальный стандарт для тестирования AI-агентов, который позволяет командам разрабатывать надёжные агентные системы с предсказуемым качеством, независимо от выбранного фреймворка.

## Контекст

### Текущее состояние индустрии

AI-агенты быстро развиваются, но инструментарий для их тестирования отстаёт:

- **Разрозненные подходы**: каждая команда изобретает своё тестирование
- **Привязка к фреймворкам**: тесты написаны под конкретный стек и не переносимы
- **Отсутствие стандартов**: нет общепринятых метрик качества агентов
- **Ручная проверка**: большая часть оценки происходит "на глаз"
- **Невоспроизводимость**: сложно сравнить два агента объективно

### Почему это важно

1. **Надёжность в продакшене** — агенты принимают решения, влияющие на бизнес
2. **Скорость итераций** — без автотестов каждое изменение требует ручной проверки
3. **Сравнение архитектур** — невозможно выбрать лучший подход без метрик
4. **Регрессии** — обновление LLM или промпта может сломать работающий агент

## Цели проекта

### Первичные цели (Must Have)

1. **Унифицированный протокол (ATP)**
   - Стандартный способ взаимодействия с любым агентом
   - Независимость от фреймворка реализации
   - Поддержка streaming событий для трейсинга

2. **Декларативное описание тестов**
   - YAML/JSON формат для тест-кейсов
   - Читаемость для не-программистов
   - Версионирование в git

3. **Многоуровневая система оценки**
   - Структурные проверки (артефакты, формат)
   - Поведенческие проверки (использование tools, логика)
   - Семантические проверки (качество, полнота)

4. **Статистическая надёжность**
   - Множественные прогоны для учёта стохастичности
   - Метрики variance и confidence intervals
   - Regression detection

### Вторичные цели (Should Have)

5. **Адаптеры для популярных фреймворков**
   - LangGraph, CrewAI, AutoGen (legacy)
   - Документация по созданию кастомных адаптеров

6. **CI/CD интеграция**
   - GitHub Actions, GitLab CI
   - Fail-fast для smoke tests
   - Baseline comparison для регрессий

7. **Cost tracking**
   - Подсчёт токенов и API-вызовов
   - Бюджетные ограничения в тестах
   - Оптимизация стоимости

### Долгосрочные цели (Could Have)

8. **Web Dashboard**
   - Визуализация результатов
   - Сравнение версий агентов
   - Drill-down в traces

9. **Leaderboard**
   - Внутренний рейтинг агентов по командам
   - Benchmark suites для типовых задач

10. **LLM-as-Judge calibration**
    - Обучение оценщика на человеческих оценках
    - Снижение bias

## Не-цели (Out of Scope)

- **Разработка агентов** — ATP только тестирует, не создаёт
- **Хостинг агентов** — агенты запускаются в инфраструктуре команд
- **Замена unit-тестов кода** — ATP дополняет, не заменяет pytest/jest
- **Realtime мониторинг** — ATP для тестирования, не для observability в проде

## Ключевые метрики успеха

| Метрика | Цель | Как измеряем |
|---------|------|--------------|
| Adoption | 3+ команды используют ATP | Количество активных test suites |
| Time to first test | < 1 час | От знакомства до первого прогона |
| Test coverage | 80%+ сценариев | Доля автоматизированных проверок |
| Regression detection | 95% | Процент пойманных регрессий |
| Framework support | 3+ фреймворка | Количество готовых адаптеров |

## Принципы проектирования

### 1. Агент как чёрный ящик

Платформе неважно, что внутри агента. Важен только контракт:
- Вход: задача + контекст + ограничения
- Выход: артефакты + метрики
- Поток: события во время выполнения

### 2. Тесты как спецификация

Тест-кейсы описывают ожидаемое поведение агента. Это документация и проверка в одном.

### 3. Статистика вместо детерминизма

Агенты недетерминированы. Один прогон ничего не доказывает. Статистика по N прогонам — надёжная метрика.

### 4. Composability

Оценщики, адаптеры, репортеры — модульные компоненты. Можно комбинировать и расширять.

### 5. Developer Experience

Простой CLI, понятные ошибки, быстрый feedback loop.

## Целевая аудитория

1. **ML/AI инженеры** — разрабатывают агентов, пишут тесты
2. **QA инженеры** — создают тест-сьюты, анализируют результаты
3. **Tech Leads** — сравнивают подходы, принимают архитектурные решения
4. **DevOps** — интегрируют в CI/CD

## Связь с существующими инструментами

| Инструмент | Связь с ATP |
|------------|-------------|
| pytest | ATP может использовать pytest для code execution проверок |
| LangSmith | Complementary: LangSmith для мониторинга, ATP для тестирования |
| Weights & Biases | ATP может экспортировать метрики в W&B |
| ERC3-DEV | ATP вдохновлён подходом, но более гибкий и универсальный |

## Timeline

- **Q1 2025**: Core protocol + MVP runner
- **Q2 2025**: Framework adapters + CI integration
- **Q3 2025**: Advanced evaluation + Dashboard
- **Q4 2025**: Stabilization + Documentation + Community
